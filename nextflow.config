manifest {
  name = 'codingene/nextflow-base'
  author = 'Sangram Kesahri Sahu' 
  homePage = 'http://codingene.github.io/nextflow-base'
  description = 'Basic Nextflow'
  mainScript = 'main.nf'
  nextflowVersion = '>=19.10.0'
  version = '0.1.0'
}

// Global default params, used in configs
params {

  // Workflow flags
  outdir = './results'

  // Boilerplate options
  tracedir = "${params.outdir}/pipeline_info"

}

// Capture exit codes from upstream processes when piping
process.shell = ['/bin/bash', '-euo', 'pipefail']

timeline {
  enabled = true
  file = "${params.tracedir}/execution_timeline.html"
}
report {
  enabled = true
  file = "${params.tracedir}/execution_report.html"
}
trace {
  enabled = true
  file = "${params.tracedir}/execution_trace.txt"
}
dag {
  enabled = true
  file = "${params.tracedir}/pipeline_dag.svg"
}

profiles {
  standard {
    process.container = 'codingene/nextflow-base:0.1.0'
  }
  
  slurm {
    process.container = 'codingene/nextflow-base:0.1.0'
    process.executor = 'slurm'
    singularity.enabled = true
  }

  conda {
    process.conda = "$baseDir/conda.yml"
  }  
}

mail {
    smtp.host = 'smtp.gmail.com'
    smtp.port = 487
    smtp.user = 'sangram'
}